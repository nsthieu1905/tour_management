<div
  id="loginPage"
  class="fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 flex items-center justify-center z-50"
>
  <div class="absolute inset-0 bg-black opacity-20"></div>

  <!-- Animated Background Elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div
      class="absolute -top-40 -right-32 w-80 h-80 bg-white opacity-10 rounded-full animate-pulse"
    ></div>
    <div
      class="absolute -bottom-40 -left-32 w-96 h-96 bg-white opacity-5 rounded-full animate-pulse"
      style="animation-delay: 1s"
    ></div>
    <div
      class="absolute top-1/2 left-1/4 w-64 h-64 bg-white opacity-5 rounded-full animate-pulse"
      style="animation-delay: 2s"
    ></div>
  </div>

  <div
    class="relative bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md mx-4 transform transition-all duration-300"
  >
    <!-- Logo and Title -->
    <div class="text-center mb-8">
      <div
        class="gradient-bg p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center"
      >
        <i class="fas fa-map-marked-alt text-white text-2xl"></i>
      </div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">TravelSmart Admin</h1>
      <p class="text-gray-600">Đăng nhập vào hệ thống quản trị</p>
    </div>

    <!-- Login Form -->
    <form id="loginForm" class="space-y-6" novalidate>
      <!-- Username Field -->
      <div class="relative">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          <i class="fas fa-user mr-2"></i>Tên đăng nhập
        </label>
        <input
          type="text"
          id="username"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 pl-12"
          placeholder="Nhập tên đăng nhập"
        />
        <i class="fas fa-user absolute left-4 top-11 text-gray-400"></i>
        <span
          id="usernameError"
          class="text-red-500 text-sm mt-1.5 block font-medium hidden"
        >
          <i class="fas fa-exclamation-circle mr-1"></i
          ><span id="usernameErrorMsg"></span>
        </span>
      </div>

      <!-- Password Field -->
      <div class="relative">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          <i class="fas fa-lock mr-2"></i>Mật khẩu
        </label>
        <input
          type="password"
          id="password"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 pl-12 pr-12"
          placeholder="Nhập mật khẩu"
        />
        <i class="fas fa-lock absolute left-4 top-11 text-gray-400"></i>
        <button
          type="button"
          onclick="togglePassword()"
          class="absolute right-4 top-11 text-gray-400 hover:text-gray-600"
        >
          <i class="fas fa-eye" id="passwordToggle"></i>
        </button>
        <span
          id="passwordError"
          class="text-red-500 text-sm mt-1.5 block font-medium hidden"
        >
          <i class="fas fa-exclamation-circle mr-1"></i
          ><span id="passwordErrorMsg"></span>
        </span>
      </div>

      <!-- Remember Me & Forgot Password -->
      <div class="flex items-center justify-between">
        <label class="flex items-center">
          <input
            type="checkbox"
            id="rememberMe"
            class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
          />
          <span class="ml-2 text-sm text-gray-600">Ghi nhớ đăng nhập</span>
        </label>
        <a
          href="#"
          class="text-sm text-blue-600 hover:text-blue-800 font-medium"
          >Quên mật khẩu?</a
        >
      </div>

      <!-- General Error Message -->
      <div
        id="formError"
        class="hidden bg-red-50 border border-red-300 text-red-800 px-4 py-3 rounded-lg flex items-start"
      >
        <i
          class="fas fa-exclamation-circle text-red-500 mt-0.5 mr-3 flex-shrink-0"
        ></i>
        <span id="formErrorMsg" class="text-sm font-medium"></span>
      </div>

      <!-- 2FA Code (Hidden by default) -->
      {{!--
      <div id="twoFactorSection" class="hidden">
        <label class="block text-sm font-medium text-gray-700 mb-2">
          <i class="fas fa-shield-alt mr-2"></i>Mã xác thực 2FA
        </label>
        <input
          type="text"
          id="twoFactorCode"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg tracking-widest"
          placeholder="000000"
          maxlength="6"
        />
        <p class="text-xs text-gray-500 mt-1">
          Nhập mã 6 số từ ứng dụng xác thực của bạn
        </p>
      </div>
      --}}

      <!-- Login Button -->
      <button
        type="submit"
        class="w-full gradient-bg text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300"
      >
        <span id="loginButtonText">
          <i class="fas fa-sign-in-alt mr-2"></i>Đăng nhập
        </span>
        <span id="loginSpinner" class="hidden">
          <i class="fas fa-spinner fa-spin mr-2"></i>Đang xử lý...
        </span>
      </button>

      <!-- Register Button -->
      <div class="text-center">
        <p class="text-sm text-gray-600 mb-3">Chưa có tài khoản?</p>
        <button
          type="button"
          onclick="showRegisterPage()"
          class="w-full bg-white border-2 border-blue-500 text-blue-600 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300"
        >
          <i class="fas fa-user-plus mr-2"></i>Đăng ký ngay
        </button>
      </div>

      <!-- Security Notice -->
      {{!--
      <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6">
        <div class="flex items-start">
          <i class="fas fa-info-circle text-blue-500 mt-0.5 mr-3"></i>
          <div class="text-sm text-blue-700">
            <p class="font-medium mb-1">Bảo mật cao</p>
            <p>
              Hệ thống sử dụng mã hóa SSL và xác thực 2 yếu tố để bảo vệ tài
              khoản của bạn.
            </p>
          </div>
        </div>
      </div>
      --}}
    </form>

    <!-- Demo Credentials -->
    {{!--
    <div
      class="mt-6 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"
    >
      <p class="text-sm font-medium text-gray-700 mb-2">
        <i class="fas fa-key mr-2"></i>Tài khoản demo:
      </p>
      <div class="text-xs text-gray-600 space-y-1">
        <p><strong>Username:</strong> admin</p>
        <p><strong>Password:</strong> admin123</p>
        <p><strong>2FA Code:</strong> 123456 (demo)</p>
      </div>
      <button
        type="button"
        onclick="fillDemoCredentials()"
        class="mt-2 text-xs bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300 transition-colors"
      >
        Điền tự động
      </button>
    </div>
    --}}

    <!-- Footer -->
    <div class="text-center mt-8 text-xs text-gray-500">
      <p>&copy; 2025 TravelSmart Admin. Bảo mật & Tin cậy.</p>
      <p class="mt-1">
        <a href="#" class="hover:text-gray-700">Điều khoản sử dụng</a> •
        <a href="#" class="hover:text-gray-700">Chính sách bảo mật</a>
      </p>
      <p class="mt-3">
        Chưa có tài khoản?
        <button
          onclick="showRegisterPage()"
          class="text-blue-600 hover:text-blue-800 font-medium underline"
        >
          Đăng ký ngay
        </button>
      </p>
    </div>
  </div>
</div>

<script type="module" src="/utils/auth.js"></script>
