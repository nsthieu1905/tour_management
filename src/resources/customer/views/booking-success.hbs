<div class="bg-gray-50 min-h-screen py-8" {{#if user}}data-user-id="{{user._id}}"{{/if}}>
  <div class="max-w-2xl mx-auto px-4">
    <!-- Success Header -->
    <div class="text-center mb-8">
      <div class="mb-4">
        <svg
          class="w-20 h-20 mx-auto text-green-500"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            fill-rule="evenodd"
            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
            clip-rule="evenodd"
          ></path>
        </svg>
      </div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">
        Đặt tour thành công!
      </h1>
      <p class="text-gray-600">
        Cảm ơn bạn đã đặt tour. Vui lòng kiểm tra email để nhận thông tin chi
        tiết.
      </p>
    </div>

    <!-- Booking Summary Card -->
    <div class="bg-white rounded-lg shadow-md p-8 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">
        Thông tin đơn đặt tour
      </h2>

      <div class="space-y-4 border-b border-gray-200 pb-6">
        <div class="flex justify-between">
          <span class="text-gray-600">Mã đơn:</span>
          <span class="font-semibold text-gray-900" id="booking-code">--</span>
        </div>
        <div class="flex justify-between">
          <span class="text-gray-600">Tổng tiền:</span>
          <span class="font-bold text-lg text-blue-600" id="booking-total"
            >--</span
          >
        </div>
        <div class="flex justify-between">
          <span class="text-gray-600">Trạng thái:</span>
          <span
            id="payment-status"
            class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"
            >Đã thanh toán</span
          >
        </div>
      </div>

      <div class="mt-6 space-y-3">
        <div class="flex items-center">
          <svg
            class="w-5 h-5 text-gray-400 mr-3"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
            ></path>
            <path
              d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
            ></path>
          </svg>
          <span class="text-gray-600"
            >Thông tin chi tiết đã được gửi tới email của bạn</span
          >
        </div>
        <div class="flex items-center">
          <svg
            class="w-5 h-5 text-gray-400 mr-3"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"
            ></path>
            <path
              d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"
            ></path>
          </svg>
          <span class="text-gray-600"
            >Chúng tôi sẽ xác nhận tour trong vòng 24 giờ</span
          >
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-4">
      <a
        href="/"
        class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 font-semibold text-center transition-colors"
      >
        Về trang chủ
      </a>
      <a
        id="view-details-btn"
        href="#"
        class="flex-1 bg-gray-600 text-white py-3 rounded-lg hover:bg-gray-700 font-semibold text-center transition-colors"
      >
        Xem đơn đặt tour
      </a>
    </div>

    <!-- Contact Support -->
    <div class="mt-12 bg-blue-50 border border-blue-200 rounded-lg p-6">
      <h3 class="font-semibold text-gray-900 mb-2">Cần hỗ trợ?</h3>
      <p class="text-gray-600 mb-4">
        Nếu bạn có bất kỳ câu hỏi nào, vui lòng liên hệ với chúng tôi:
      </p>
      <div class="flex gap-6">
        <div class="flex items-center">
          <svg
            class="w-5 h-5 text-blue-600 mr-2"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773c.058.226.122.451.191.672.145.422.386.853.713 1.423.327.57.786 1.159 1.487 1.622.7.462 1.45.676 2.182.676.73 0 1.48-.214 2.182-.676.701-.463 1.159-1.051 1.486-1.622.327-.57.568-1.001.714-1.423.069-.221.133-.446.191-.672l-1.548-.773a1 1 0 01-.54-1.06l.74-4.435A1 1 0 0113.847 3h2.153a1 1 0 011 1v14a1 1 0 01-1 1h-2.153a1 1 0 01-.986-.836l-.74-4.435a1 1 0 01.54-1.06l1.548-.773c-.058-.226-.122-.451-.191-.672-.145-.422-.386-.853-.713-1.423-.327-.57-.786-1.159-1.487-1.622-.7-.462-1.45-.676-2.182-.676-.73 0-1.48.214-2.182.676-.701.463-1.159 1.051-1.486 1.622-.327.57-.568 1.001-.714 1.423-.069.221-.133.446-.191.672l1.548.773a1 1 0 01.54 1.06l-.74 4.435A1 1 0 016.153 17H4a1 1 0 01-1-1V3z"
            ></path>
          </svg>
          <span class="text-gray-600">1900 1000</span>
        </div>
        <div class="flex items-center">
          <svg
            class="w-5 h-5 text-blue-600 mr-2"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
            ></path>
            <path
              d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
            ></path>
          </svg>
          <span class="text-gray-600">support@toursmart.vn</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="module">
  // Pass bookingId from server to customer-side script
  window.serverBookingId = "{{bookingId}}";
</script>
<script type="module" src="/customer/js/booking-success.js"></script>
